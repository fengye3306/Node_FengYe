
> 参数设置

* **轴卡资源建立、释放**    
    通过TCP、485串口 链接轴卡，退出时调用函数断开链接。       
    
* **脉冲输出模式设置**      
    设置轴与对应的输出模式，脉冲+方向、双脉冲、正交编码器（A/B相脉冲）、脉冲+方向（反向极性）、双脉冲（反向极性）、差分信号输出（RS422电平）。    

* **脉冲当量设置**    
    脉冲当量，描述每个脉冲信号对应的实际物理位移量

* **反向间隙补偿**   
    反向间隙（背隙），机械传动系统（如丝杠、齿轮、皮带等）在改变运动方向时，由于机械配合间隙导致的短暂空转或位移丢失，例如螺母间隙。间隙使得脉冲没有转化为实际的末端运动。根据实际知道的间隙大小例如0.5um 轴卡使得自动的多发脉冲。        

* **轴IO映射**    
    例如将第2轴的原点信号（ORG） 映射为 第0轴的正限位信号（+LIMIT）。解决IO资源不足或冲突的问题（如某个轴的限位口损坏时，配置使得可借用其他轴的接口）。  


> 运动功能 

* **点位运动**  
    配置速度曲线等运动参数，使得完成： 定长运动、恒速运动、在线变速变位运动

* **回原点运动**   
    在物理原点开关的IO信号辅助下完成，回零方式多样无非是能力的排列组合。    
    1_一次回零：恒速向原点运动，触发原点信号立刻停止。  
    2_一次回零加回找：一次回零 后，会身探寻原点边界。  
    3_两次回零：回零+反找+再回零。   
    4_记1个EZ信号回零：触碰零点信号后，等待一个ez信号再停机，【EZ信号（全称Encoder Z-phase Signal）是伺服电机或编码器提供的零位脉冲信号，通常与编码器的A/B相正交信号配合使用，每转出现一次，高精度基准。】  
    5_一次回零再反找 EZ 信号:无需多言
    6_原点锁存：碰到原点信号后立即锁存位置，再反身去找零点停机
    7_原点锁存加同向 EZ 锁存  
    8_单独记一个 EZ 锁存
    9_原点锁存加反向 EZ 锁存   

* **PVT运动**   
    又名为`速度规划`功能。（p位置，t时间）      
    PTT 运动: 命令，使得任意轴在预计时间准确的到达预定位置。    
    PTS 运动：升级版，本质是更加更加平滑的PTT，需要输入位置、时间、百分比参数描述运动规律。     

    PVT 运动：多轴速度规划功能。当用户需要规划一些特殊的运动轨迹且 
    用单轴运动及插补运动无法满足需求时可使用PVT进行规划。例程有使用PVT绘制一个椭圆的例程。     
    PVTS 运动：升级版PVT，更加平顺，速度连续。

* **插补运动**  
    多轴插补，连续插补。   
    连续插补就是往缓冲区中堆插补指令，一般多轴插补就是蛋蛋一条指令。  
    有很多细节，细看文档。     

* **手轮运动**  
    与电子手轮对应，不仅仅可以控制单轴，可以配置运动组 使得进行组控制。  

* **电子凸轮**   
    下载凸轮表 → 启动从轴凸轮模式 → 主轴运动触发从轴跟随 → 超出范围后停止跟随。   
    凸轮表：定义主轴某个位置时，从轴应该在什么位置。 主驱动轴，比如电机A，被动跟随轴，比如电机B。   



> 通用 IO 功能   

* **通用IO控制**   
    读取，设置  单个或全部IO电平状态、 IO计数、 延时翻转。   

* **虚拟IO控制**    
    将实际的物理 IO 输入信号，映射到一个“虚拟 IO 通道”中处理，再从虚拟通道中读取滤波后的电平状态。  
    物理IO存在两个典型问题：   
        信号抖动： 比如一个按钮按下的瞬间，电平可能抖动几次（接触抖动），直接读取会出现误判。  
        响应过快：有时我们想要读取“稳定状态”，而不是信号刚刚变化的瞬间。   

    可以给 IO 设置滤波时间（如 10ms 内稳定才算有效），可以选择只在上升沿/下降沿时才触发。 说白了就是雷赛给你写好了IO滤波软消抖。      

> 特殊 IO 功能   

* **编码器检测**  

    有物理IO专门给接电机的编码器或是对应光栅尺，正负脉冲输入或 A/B 相正交信号。    
    例如二次元，探针触发时给IO信号，轴卡就把位置锁存，锁存的就可以是这个编码器或光栅尺位置。    

* **位置锁存**    

    存在一个1000个位置记录的缓冲区，IO触发时记录位置，锁存需要间隔1ms，如果位置溢出了会回头从第一个开始挤掉。  


* **位置比较输出**   
    设定某一位置，当位置一到就立马触发IO，点胶工艺等时 这十分有用。   

* **PWM输出**    

    可以轰出PWM。  

* **伺服专用功能**     
    一些标准的定义信号       


    
| 信号名              | 类型                        | 含义                                               | 举例说明                                                                 |
|---------------------|-----------------------------|----------------------------------------------------|--------------------------------------------------------------------------|
| SEVON               | 控制器 → 驱动器（输出）     | 使能信号：是否允许电机上电、锁住电机              | 控制器发出 SEVON=1，驱动器“上线”、电机锁住                              |
| ALM（Alarm）        | 驱动器 → 控制器（输入）     | 报警信号：伺服出错，如过载、编码器异常等          | 驱动器出错 → 控制器立即停脉冲，停止运动                                 |
| INP（In Position）  | 驱动器 → 控制器（输入）     | 到位信号：告诉控制器“我已经稳稳到位了”           | 控制器发完指令后，电机稍微还会继续动，等到完全对齐目标才发 INP=1       |
| ERC（Error Clear）  | 控制器 → 驱动器（输出）     | 清除误差信号：命令驱动器清除误差并停止            | 控制器发出 ERC=1 → 驱动器立刻停止补偿动作                               |
| RDY（Ready）        | 驱动器 → 控制器（输入）     | 准备好信号：伺服是否准备好接收控制命令            | 如果驱动器没上电，或报警未清除，则 RDY=0                                |
| ORG / ELP / ELN / EMG | 驱动器或外部输入           | 原点/正限位/负限位/急停等                         | 这些是标准位置或保护信号                                                |





* **限位功能**      

    硬限位光电开关，其实也有软限位的位置。

* **急停功能**    

    急停信号口


> 文件功能  

雷赛控制器的文件功能，是控制器上传、下载文件（如 basic 文件、G 代码文件、参数文 件等）。     
G代码是一种数控编程语言，用于控制 CNC 机床、3D 打印机、激光切割机、运动控制器等设备的运动轨迹。   


> 寄存器操作功能   

雷赛控制器位寄存器BIT有10000位，寄存器REG有10000个字。    
可以从寄存器中读、写轴的当前位置、速度等信息

> 控制器组网  

讲述如何通过交换机组网同时操作多个SMC606运动控制卡。  

> BASIC 程序控制功能  

ASIC 程序控制功能，用于对控制器中保存的 BASIC 程序进行读取、修改、 运行、停止、调试等操作  

> G 代码程序控制功能  

用于对控制器中的 G 代码程序进行控制， 可对控制 器中的 G 代码程序进行读取、删除、运行、停止、检查等操作   

> 总线控制功能  

雷赛控制器支持总线功能，包括 CANopen 总线、EtherCAT 总线。总线控制和脉冲控制大部 分的用法一样，但是存在一些区别。  

* **电机使能**   

    在总线模式下，所有轴在运动之前都需要进行使能操作，不管是总线伺服还是总线步进。 和脉冲控制器对电机使能即打开伺服使能信号不同。  

* **电机复位**     

    总线控制器对复位的控制只有发起复 位和等待复位结束，中间的复位过程全部交由驱动器来处理。    

* IO 控制及电机运动  
    总线控制器和脉冲控制器在 IO 控制以及轴运动方式上并无实质上的区别，控制函数两者 都是一样的，

* **总线状态**      

    总线控制器由于是主从结构，并且主从结构之间通过网线连接，所以需要在程序中实时扫描总线状态(一 般采用定时器或者独立的任务来扫描)，以应对可能出现的异常。当总线状态正常时才能进行相应的操作， 当总线状态异常时需要做相应的处理，如停止当前运行、提示报警等。

